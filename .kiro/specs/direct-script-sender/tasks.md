# Implementation Plan

## Tasks

- [ ] 1. 台本データ基盤の構築
- [x] 1.1 台本設定ファイルと型定義を作成する
  - 台本データを格納するJSONファイルを作成し、サンプル台本（挨拶、締め等）を含める
  - テキスト、ラベル、感情パラメータを持つ台本の型を定義する
  - 設定ファイルは `/config/` ディレクトリに配置し、既存パターンに従う
  - _Requirements: 1.1, 1.2, 5.1, 5.2_

- [ ] 2. 台本APIの実装
- [x] 2.1 (P) 台本一覧を取得するAPIを作成する
  - 設定ファイルから台本データを読み込み、JSONレスポンスとして返す
  - ファイル不在時は空配列を返却し、アプリケーションが正常動作を継続できるようにする
  - アプリケーション起動時に台本一覧が取得できることを確認する
  - _Requirements: 5.1, 5.3_

- [x] 2.2 (P) 台本を動画生成サーバーに送信するAPIを作成する
  - 受け取った台本データをバリデーションし、不正な形式の場合はエラーを返す
  - 台本データを動画生成用のリクエスト形式に変換する
  - 変換したリクエストを既存の動画生成APIに転送し、LLMワークフローをバイパスする
  - 動画生成APIの呼び出し失敗時は適切なエラーレスポンスを返す
  - _Requirements: 1.3, 2.1, 2.2_

- [ ] 3. 台本操作UIの実装
- [x] 3.1 台本選択パネルのコンポーネントを作成する
  - 台本取得APIから台本一覧を取得し、選択可能なリストとして表示する
  - 台本を選択すると、その内容（テキスト・感情）をプレビュー表示する
  - 送信ボタンを配置し、台本が選択されていない場合は無効化する
  - 送信中は進行インジケーターを表示し、重複送信を防止する
  - エラー発生時はエラーメッセージと再試行ボタンを表示する
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 2.4_

- [ ] 4. システム統合
- [x] 4.1 メインページに台本機能を統合する
  - 台本選択パネルを画面左側に配置する
  - 台本送信時に送信APIを呼び出し、動画生成を開始する
  - 生成された動画を既存のVideoPlayerで再生できるよう連携する
  - 既存のLLMチャット機能と独立して動作することを確認する
  - _Requirements: 2.3, 4.1, 4.2, 4.3_

- [x] 5. 動作検証
- [x] 5.1 台本送信から動画再生までの一連のフローを検証する
  - 台本選択 → 送信 → 動画生成 → 再生の流れが正常に動作することを確認
  - エラー発生時のUI表示と再試行機能の動作を確認
  - 既存のチャット機能（LLM経由）との併用が問題なく行えることを確認
  - _Requirements: 2.3, 4.3_
