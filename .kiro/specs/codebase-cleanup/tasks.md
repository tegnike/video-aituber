# Implementation Plan

## Task 1: 未使用コンポーネントの解析と削除

- [x] 1.1 (P) コンポーネント使用状況の解析
  - `/components/`ディレクトリ内の全`.tsx`ファイルを列挙する（テストファイル除外）
  - 各コンポーネントのインポート状況をプロジェクト全体で検索する
  - 動的インポート（`dynamic()`）の使用も検出対象に含める
  - 未使用候補をリスト化し、インポート数0のファイルを特定する
  - _Requirements: 1.1, 1.2, 1.3_

- [x] 1.2 未使用コンポーネントの削除
  - 解析結果に基づき未使用コンポーネントファイルを削除する
  - 関連するテストファイルがある場合は併せて削除する
  - 削除後にビルド検証を実行する
  - _Requirements: 6.1, 6.2, 6.3_

## Task 2: 未使用ユーティリティ・フックの解析と削除

- [x] 2.1 (P) libディレクトリの使用状況解析
  - `/lib/`ディレクトリ内の全`.ts`ファイルを列挙する（テストファイル除外）
  - 各ファイルのエクスポートを抽出し、他ファイルからの参照を検索する
  - 未使用候補をリスト化する
  - _Requirements: 2.1, 2.3_
  - **結果**: 7ファイル全て使用中（未使用候補なし）

- [x] 2.2 (P) hooksディレクトリの使用状況解析
  - `/hooks/`ディレクトリ内の全`.ts`ファイルを列挙する（テストファイル除外）
  - 各カスタムフックの使用状況をプロジェクト全体で検索する
  - 未使用候補をリスト化する
  - _Requirements: 2.2, 2.3_
  - **結果**: 4ファイル全て使用中（未使用候補なし）

- [x] 2.3 未使用ユーティリティ・フックの削除
  - 解析結果に基づき未使用ファイルを削除する
  - 関連するテストファイルがある場合は併せて削除する
  - 削除後にビルド検証を実行する
  - _Requirements: 6.1, 6.2, 6.3_
  - **結果**: 削除対象なし、ビルド成功

## Task 3: 未使用APIルートの解析と削除

- [x] 3.1 (P) APIルート使用状況の解析
  - `/app/api/`ディレクトリ内の全ルートを列挙する（テストファイル除外）
  - クライアントコードからのfetch呼び出しを検索しルートパスと照合する
  - 外部システムから呼び出される可能性があるルート（callback系）には警告を付与する
  - 未使用候補をリスト化する
  - _Requirements: 3.1, 3.2, 3.3_
  - **結果**: 11ルート中1ルート未使用（`/api/startup-video`）、`/api/generate-video-callback`は外部コールバック用のため警告付き

- [x] 3.2 未使用APIルートの削除
  - 解析結果に基づき未使用ルートディレクトリを削除する
  - 警告付きルートは削除対象から除外し報告する
  - 関連するテストファイルがある場合は併せて削除する
  - 削除後にビルド検証を実行する
  - _Requirements: 6.1, 6.2, 6.3_
  - **結果**: `/api/startup-video`を削除、ビルド成功

## Task 4: 未使用npm依存関係の解析と削除

- [x] 4.1 npm依存関係の使用状況解析
  - `package.json`から`dependencies`と`devDependencies`を読み込む
  - 各パッケージのインポート状況をソースコード全体で検索する
  - 設定ファイル（`next.config.ts`、`tailwind.config.ts`等）での使用も検出する
  - 暗黙的に使用されるパッケージ（PostCSS plugins、ESLint configs等）を除外する
  - 未使用候補をリスト化する
  - _Requirements: 4.1, 4.2, 4.3_
  - **結果**: dependencies 4個、devDependencies 12個を検査。未使用候補: `openai`（1件）

- [x] 4.2 未使用依存関係の削除
  - 解析結果に基づき`package.json`から未使用パッケージを削除する
  - `@types/*`パッケージは対応する本体パッケージと連動して判断する
  - `npm install`を実行して依存関係を更新する
  - 削除後にビルド検証を実行する
  - _Requirements: 6.1, 6.2, 6.3_
  - **結果**: `openai`パッケージを削除、ビルド成功（リントは既存エラー4件あり、今回の変更とは無関係）

## Task 5: 未使用設定ファイルの解析と削除

- [x] 5.1 (P) 設定ファイル使用状況の解析
  - `/config/`ディレクトリ内の全JSONファイルを列挙する
  - 各ファイルの参照状況をプロジェクト全体で検索する
  - `example.*`ファイルはサンプルとして報告対象から除外判断する
  - 未使用候補をリスト化する
  - _Requirements: 5.1, 5.2_
  - **結果**: 3ファイル全て使用中（`video-generation.json`→lib/videoGenerationConfig.ts、`scripts.json`→app/api/scripts/route.ts・app/api/script-send/route.ts、`example.video-generation.json`→サンプルファイル）。未使用候補なし

- [x] 5.2 未使用設定ファイルの削除
  - 解析結果に基づき未使用設定ファイルを削除する
  - 削除後にビルド検証を実行する
  - _Requirements: 6.1, 6.2_
  - **結果**: 削除対象なし

## Task 6: 最終検証とレポート

- [x] 6.1 プロジェクト全体の検証
  - `npm run build`を実行しビルド成功を確認する
  - `npm run lint`を実行しリント成功を確認する
  - エラーが発生した場合は詳細を報告し削除の見直しを促す
  - _Requirements: 7.1, 7.2, 7.3_
  - **結果**: ビルド成功、リントは既存エラー4件・warning23件あり（今回のクリーンアップとは無関係）

- [x] 6.2 削除結果サマリーの報告
  - 削除されたファイル・依存関係をカテゴリ別にリスト化する
  - 警告付きで残されたファイルを報告する
  - ビルド・リント結果を報告する
  - _Requirements: 6.1, 6.2_
  - **結果**: 下記サマリー参照

---

## クリーンアップ結果サマリー

### 削除済み
| カテゴリ | ファイル/パッケージ | 備考 |
|---------|-------------------|------|
| APIルート | `/app/api/startup-video/route.ts` | 未使用ルート |
| npm依存関係 | `openai` | 未使用パッケージ |

### 警告付きで残されたファイル
| カテゴリ | ファイル | 理由 |
|---------|---------|------|
| APIルート | `/api/generate-video-callback` | 外部システムからのコールバック用 |

### 未使用候補なし（全て使用中）
- **コンポーネント**: 10ファイル全て使用中
- **lib/ユーティリティ**: 7ファイル全て使用中
- **hooks**: 4ファイル全て使用中
- **設定ファイル**: 3ファイル全て使用中（example含む）

### 検証結果
- **ビルド**: ✅ 成功
- **リント**: ⚠️ 既存エラー4件、warning23件（今回の変更とは無関係）
